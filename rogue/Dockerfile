FROM redis:5.0-alpine3.8

WORKDIR /rogue
RUN apk add alpine-sdk python3 \
    && git clone https://github.com/n0b0dyCN/RedisModules-ExecuteCommand.git \
    && git clone https://github.com/knqyf263/redis-rogue-server.git
RUN cd RedisModules-ExecuteCommand/ \
    && make \
    && mv module.so ../redis-rogue-server/exp.so
WORKDIR /rogue/redis-rogue-server
